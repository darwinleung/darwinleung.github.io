<!DOCTYPE html>
<html lang="en-us" class="wf-firasans-n4-active wf-active">
	<head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Enable responsiveness on mobile devices --> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    
    	
    <meta name="generator" content="Hugo 0.36.1" />
    <title>DL</title>
    <meta content="DL" property="og:title">
    <meta content="" property="og:description">    
    <!-- CSS --> 
    <link rel="stylesheet" href="https://darwinleung.github.io/css/print.css" media="print">
    <link rel="stylesheet" href="https://darwinleung.github.io/css/poole.css">
    <link rel="stylesheet" href="https://darwinleung.github.io/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:300,300i,400,400i,500">
    
    <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>
    <!-- highlight.js--> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dark.min.css">
    <!-- Customised CSS -->
    <link rel="stylesheet" href="https://darwinleung.github.io/css/custom.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <!-- RSS --> 
    <link href="https://darwinleung.github.io/index.xml" rel="alternate" type="application/rss+xml" title="DL" />
    <link href="https://darwinleung.github.io/index.xml" rel="feed" type="application/rss+xml" title="DL" />

	</head>
    <body class="theme-base-0g " >
        <div class="sidebar">
	<div class="container text-center sidebar-sticky">
		<div class="sidebar-about text-center">
			<a href="https://darwinleung.github.io/"><h1 class="brand">DL</h1></a>
			 <img src="/img/DL_symbol.jpg" alt="Author Image" class="img-circle headshot center"> 
			<p class="lead">
				 Darwin&#39;s personal blog 
			</p>
		</div>
		
<div>
	<ul class="sidebar-nav">
		
		
				<li>
					<a href="/posts/"> <span>Posts</span></a>
				</li>
				<li>
					<a href="/about/"> <span>About</span></a>
				</li>
				<li>
					<a href="/contact/"> <span>Contact</span></a>
				</li>
		</li>
	</ul>
</div>

        <p>
		<section class="row text-center">
	
	
	
	&nbsp;<a href="https://github.com/darwinleung"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	&nbsp;<a href="https://linkedin.com/in/darwinleung"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	&nbsp;<a href="mailto:darwinlkh@gmail.com"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

        </p>
		<p class="copyright">Built with Hugo and Hyde-hyde ©2018.
        </p>
	</div>
	<div>
	</div>
</div>

        <div class="content container">
            <div class="posts">
  
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-09-15-joining-uber/">Joining Uber</a></h1>
        <span class="post-date">Sep 15, 2018</span>
        I have decided to join Uber data science team for the next step in my career. I will be working in Marketing Analytics as a Data Analyst. The role is based in Toronto but my team is global. I am responsible for analytics support on the Rides business. I will be working very closely with the Canada marketing and operation team.
Hiring process I was reached out by a recruiter from the ATG originally on Linkedin for a Data Engineer role.
        
        <div class="read-more-link">
            <a href="/posts/2018-09-15-joining-uber/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-09-01-modelling-snowplow-event-data-notes/">Modelling Snowplow event data notes</a></h1>
        <span class="post-date">Sep 1, 2018</span>
        Modelling Snowplow event data notes Goals:
 Modelling pageviews level metric (timeonpage, scroll depth) Modelling sessions level metric (session count, session duration)  Note: All queries in this doc are NOT tested or validated, they are based on assumptions and my guess only for high level understanding only. Please always consult Snowflake and make modification accordingly before using them for production.
Validating readily available metrics First, we would like to see if the pageviews count collected from Snowplow match roughly with the data we collected from GA:
        
        <div class="read-more-link">
            <a href="/posts/2018-09-01-modelling-snowplow-event-data-notes/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-08-01-bigquery-notes/">BigQuery notes</a></h1>
        <span class="post-date">Aug 1, 2018</span>
        There is a new project at work, we store snowplow events data on Google BigQuery (vs on AWS S3 conventionally). The query language is very similar with SQL however, there is some differences in term of best practice and cost. Here is some notes.
BigQuery vs MySQL BigQuery: fully-managed cloud-based enterprise data warehouse. Good for OLAP task (i.e. low volume of transactions, complex query with aggregation). Distributed storage and parallel computation for query big scale data very fast.
        
        <div class="read-more-link">
            <a href="/posts/2018-08-01-bigquery-notes/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-07-02-personalized-recommendation-system-content-based/">Personalized recommendation system for articles - Content-based</a></h1>
        <span class="post-date">Jul 2, 2018</span>
        Personalized recommendation system for articles - Content-based We use the same example from CF post, let&rsquo;s say we have the same 6 articles and 5 visitors and their view history data. Also, we have data about the context of each articles, like title, author, categories, length, no. of picture, and the words from the articles. We might also have data from the user side like their demographic, gender, ages, country etc.
        
        <div class="read-more-link">
            <a href="/posts/2018-07-02-personalized-recommendation-system-content-based/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-07-01-personalized-recommendation-system-collaborative-filtering/">Personalized recommendation system for articles - Collaborative Filtering</a></h1>
        <span class="post-date">Jul 1, 2018</span>
        Personalized recommendation system for articles - Collaborative Filtering From Andrew Ng&rsquo;s course, I learned there are 2 popular ways to built recommendation system: Collaborative Filtering and Content-based. Recently, I have a chance to research and implement them at work. Here is a Proof-of-Concept example.
Recommendation system is about recommending items to users. Let&rsquo;s say we only have:
 Items: 6 articles: [&lsquo;dog1&rsquo;, &lsquo;dog2&rsquo;, &lsquo;cat&rsquo;, &lsquo;food1&rsquo;, &lsquo;food2&rsquo;, &lsquo;food3&rsquo;]. (Note: we label them just for easier explanation, it is not necessary to have any context about the items, they can be random ids) Users: 5 visitors [&lsquo;user_0&rsquo;,&lsquo;user_1&rsquo;,&lsquo;user_2&rsquo;, &lsquo;user_3&rsquo;, &lsquo;user_4&rsquo;, &lsquo;user_5&rsquo;]  Collaborative Filtering  Collaborative filtering approaches build a model from a user&rsquo;s past behaviour (items previously purchased or selected and/or numerical ratings given to those items) as well as similar decisions made by other users.
        
        <div class="read-more-link">
            <a href="/posts/2018-07-01-personalized-recommendation-system-collaborative-filtering/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-05-12-imputation-sklearn/">How does imputation work</a></h1>
        <span class="post-date">May 12, 2018</span>
        How does imputation work? Imputation is a pre-processing technique to handle missing data before fitting the data into model. One of the simplest implementation is to estimate the missing values using the mean/median or the most frequent value of the row/ column where the missing values are located. There are more advanced ways to impute data like regressions, multiple imputation etc.
Imputer in sklearn The Imputer function in the sklearn library is commonly used in various tutorials.
        
        <div class="read-more-link">
            <a href="/posts/2018-05-12-imputation-sklearn/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-05-09-extracting-features-from-text-bow-tfidf/">Extracting features from text - BoW, tfidf</a></h1>
        <span class="post-date">May 9, 2018</span>
        Most of the machine learning algorithms work with numerical features only, they cannot work with raw text directly. Hence, we need to extract/generate numerical representation of textual data. One of the simplest way is to use the occurance or frequency of words.
Bag-of-words (BoW)  Representation of text that describes the occurence of words within a document
 Step:
 Find all unique words in a document, used as column (aka token) Define the measure method (1&frasl;0 for presence or absence of words, count, tfidf) Calculate the measurement for each sentence, each row correspond to each sentence (aka tokenization)   Example:
        
        <div class="read-more-link">
            <a href="/posts/2018-05-09-extracting-features-from-text-bow-tfidf/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-04-18-writing-math-in-hugo/">Writing Math in Hugo</a></h1>
        <span class="post-date">Apr 18, 2018</span>
        In this blog, I am going to write a lot of math. I used Typora as my markdown editor and it supports MathJax out of the box. I just need to wrap my math blocks with $$ (following this reference). However, I will need to do a quick step to make Hugo work with MathJax as discribed in the Hugo documentation. I copied add-mathjax-to-page.html and pasted in the beginning of post_footer.
        
        <div class="read-more-link">
            <a href="/posts/2018-04-18-writing-math-in-hugo/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-04-10-mongodb-notes/">MongoDB for Developer M101P notes</a></h1>
        <span class="post-date">Apr 10, 2018</span>
        insertMany(), default ordered: true, once it encounters as error, insert stop. If ordered set to false, it will insert the rest of documents despite any errors.
 ObjectId: 12-Byte Hex string
  | _ _ _ _ | _ _ _ | _ _ | _ _ _ | | &mdash;&mdash;&mdash;&mdash;&mdash;&ndash; | &mdash;&mdash;&ndash; | &mdash;&mdash;&mdash;&mdash;&mdash;- | &mdash;&mdash;- | | Date (time stamp) | Mac addr | PID (process ID) | Counter |
        
        <div class="read-more-link">
            <a href="/posts/2018-04-10-mongodb-notes/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-04-04-sql-optimization-with-indexing-part-2/">SQL optimization with indexing - part 3 - multi-column index</a></h1>
        <span class="post-date">Apr 4, 2018</span>
        MySQL can only use one index for each SELECT statement, it is very common to perform operations on multiple columns like:
SELECT gaAppIds, dimension_date, dimension_country, dimension_source, dimension_medium, SUM(metric_sessions) FROM country_analytics GROUP BY gaAppIds , dimension_date , dimension_source , dimension_medium , dimension_country; By using a single-column index, we cannot take the full advantage for this query. We can add index for multiple columns (up to 16 columns). In the example above, we can add the following index with the 5 columns in the GROUP BY :
        
        <div class="read-more-link">
            <a href="/posts/2018-04-04-sql-optimization-with-indexing-part-2/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-04-03-sql-optimization-with-indexing-part-2/">SQL optimization with indexing - part 2 - index types in MySQL</a></h1>
        <span class="post-date">Apr 3, 2018</span>
        There are 2 main data structures for index in MySQL, they are B-tree and hash table. They are also the main index structures for other RMDBS.
B-tree B-tree is a self-balancing sorted data structure similar to a binary search tree. The only difference is that a node in B-tree can have more than 2 children. For me, it looks like a binary tree with a range of numbers in each node (vs only 1 number in a node).
        
        <div class="read-more-link">
            <a href="/posts/2018-04-03-sql-optimization-with-indexing-part-2/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-04-02-sql-optimization-with-indexing-part-1/">SQL optimization with indexing - part 1</a></h1>
        <span class="post-date">Apr 2, 2018</span>
        Knowing how to write a query is not enough, when our tables grow larger it is common to run into query performance issues. If we know in advance how we are querying the table, one very handful technique to &ldquo;magically&rdquo; speed up the query is to add appropriate indexes in tables.
What is index? From MySQL documentation:
 Indexes are used to find rows with specific column values quickly. Without an index, MySQL must begin with the first row and then read through the entire table to find the relevant rows.
        
        <div class="read-more-link">
            <a href="/posts/2018-04-02-sql-optimization-with-indexing-part-1/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-04-01-handy-sql-queries/">Handy SQL Queries</a></h1>
        <span class="post-date">Apr 1, 2018</span>
        This is a list of handy SQL queries I use, I will keep it updated occasionally.
Getting table sizes in MySQL This query lists the size of every table in every database in an MySQL instance, size sorted desc in MB:
SELECT table_schema as `Database`, table_name AS `Table`, round(((data_length + index_length) / 1024 / 1024), 2) `Size in MB` FROM information_schema.TABLES ORDER BY (data_length + index_length) DESC;	 ref: SO
        
        <div class="read-more-link">
            <a href="/posts/2018-04-01-handy-sql-queries/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-03-30-running-python-2-and-3-using-conda/">Running python 2 and 3 using conda</a></h1>
        <span class="post-date">Mar 30, 2018</span>
        I am taking the M101P course to brush up my Mongo skill, the course is kind of dated, it uses Python 2. However, I use Python 3 on my machine by default. I need a quick and easy way to run python 2 scripts without changing my default settings/path. I found conda offer a great out-of-box solution by using environment.
 A conda environment is a directory that contains a specific collection of conda packages that you have installed.
        
        <div class="read-more-link">
            <a href="/posts/2018-03-30-running-python-2-and-3-using-conda/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-03-26-limbo/">Limbo</a></h1>
        <span class="post-date">Mar 26, 2018</span>
        We finished a indie game called &ldquo;Limbo&rdquo; over the weekend. Personally I like it very much, It is a short, simple, monochrome, 2D puzzle solving game. Although there is no exciting story or flashy graphic, the music and animation is outstanding, puzzles are well designed, it kept us engaged for hours.
I bought this game long time ago, never get time to try it until this Saturday I was downloading another large game, I decided to give it a try while we wait.
        
        <div class="read-more-link">
            <a href="/posts/2018-03-26-limbo/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-03-25-setting-up-this-blog/">Setting up this blog with Hugo and Hyde-hyde</a></h1>
        <span class="post-date">Mar 25, 2018</span>
        Hugo First, I follow the quick start guide to install and set up a hugo server locally.
Adding content Use hugo new posts/my-first-post.md or simply add a markdown file under the content\posts folder. Make sure the markdown files include the front matter, in a regular post page, it looks something like:
title: &quot;Setting up this blog&quot; date: 2018-03-25T14:47:00-04:00 draft: false tags: [ &quot;hugo&quot; , &quot;git&quot; ] categories: [ &quot;programming&quot; ]  For a static page like &ldquo;About&rdquo; or &ldquo;Contact&rdquo;, I only use title and draft.
        
        <div class="read-more-link">
            <a href="/posts/2018-03-25-setting-up-this-blog/">Read More…</a>
        </div>
        
        </div>
        <div class="post">
        <h1 class="post-title"><a href="https://darwinleung.github.io/posts/2018-03-01-first-post/">First Post - 2018 Goals</a></h1>
        <span class="post-date">Mar 1, 2018</span>
        This is my first personal blog and this is my first blog post, building a blog is one of the goals I set at the beginning of 2018. 2018 would be my year of learning, I will spend my spare time on learning for both professionally and personally. I am lucky that there are many areas overlapping.
There are 3 main areas I want to learn:
Machine Learning As an aspiring data scientist, I need to build a strong foundation on statistical and machine learning and gain exposure in deep learning.
        
        <div class="read-more-link">
            <a href="/posts/2018-03-01-first-post/">Read More…</a>
        </div>
        
        </div>
  </div>
            <div class="footer">
                
            </div>
        </div>
        
        
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-120240510-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>
        
    </body>
</html>
